# specify what services we want to run when the compose file is called
services:
  # backend API service
  backend:
    build:
      context: ./backend
    ports:
      # map host 3002 to container 3002 (app.js defaults to 3002)
      - "3002:3002"
    environment:
      - NODE_ENV=development
      - API_PORT=3002

  # customer-facing frontend (default Vite port 5173)
  customer_frontend:
    build:
      context: ./customer_frontend
    ports:
      - "5173:5173"
    depends_on:
      - backend
      
  employee_frontend:
    build:
      context: ./employee_frontend
    ports:
      - "5174:5173"
    depends_on:
      - backend